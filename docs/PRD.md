# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3 개발 범위
- 주문하기 화면 (메뉴 선택 및 장바구니 기능)
- 관리자 화면 (재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프론트엔드 : HTML, CSS, 리액트, 자바스크립트
- 백엔드 : Node.js, Express
- 데이터베이스 : PostgreSQL

## 3. 기본 사항
- 프론트엔트와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적으로 사용자 인증이나 결재 기능은 제외
- 메뉴는 커피 메뉴만 있음

---

## 4. 화면 설계

### 4.1 주문하기 화면

#### 4.1.1 화면 개요
고객이 커피 메뉴를 선택하고 옵션을 추가하여 장바구니에 담은 후 주문을 완료하는 화면

#### 4.1.2 와이어프레임
![주문하기 화면 와이어프레임](../assets/wireframe-order.png)

#### 4.1.3 화면 구성 요소

##### A. 헤더 (Header)
| 요소 | 설명 |
|------|------|
| 로고 | "COZY" 텍스트 로고, 좌측 배치 |
| 네비게이션 | "주문하기", "관리자" 버튼, 우측 배치 |

- 현재 활성화된 메뉴는 시각적으로 구분 (테두리 또는 강조 스타일)
- 클릭 시 해당 화면으로 이동

##### B. 메뉴 카드 영역 (Menu Card Grid)
| 요소 | 설명 |
|------|------|
| 레이아웃 | 그리드 형태로 메뉴 카드 배치 (반응형) |
| 카드 구성 | 이미지, 메뉴명, 가격, 설명, 옵션, 담기 버튼 |

**메뉴 카드 상세 구성:**

| 구성 요소 | 설명 | 예시 |
|-----------|------|------|
| 메뉴 이미지 | 메뉴 대표 이미지 | 커피 사진 |
| 메뉴명 | 메뉴 이름 표시 | 아메리카노(ICE), 카페라떼 |
| 가격 | 기본 가격 표시 | 4,000원, 5,000원 |
| 설명 | 메뉴에 대한 간단한 설명 | "간단한 설명..." |
| 옵션 | 체크박스 형태의 추가 옵션 | 샷 추가 (+500원), 시럽 추가 (+0원) |
| 담기 버튼 | 장바구니에 메뉴 추가 | "담기" |

**옵션 기능:**
- 체크박스 선택 시 추가 금액이 가격에 반영
- 복수 선택 가능

##### C. 장바구니 영역 (Cart Section)
| 요소 | 설명 |
|------|------|
| 위치 | 화면 하단 고정 |
| 제목 | "장바구니" |

**장바구니 상세 구성:**

| 구성 요소 | 설명 | 예시 |
|-----------|------|------|
| 상품 목록 | 담긴 메뉴 리스트 | 아메리카노(ICE) (샷 추가) X 1 |
| 개별 금액 | 각 상품의 금액 (옵션 포함) | 4,500원 |
| 수량 | 동일 메뉴+옵션 조합의 수량 | X 1, X 2 |
| 총 금액 | 장바구니 전체 합계 | 총 금액 12,500원 |
| 주문하기 버튼 | 주문 완료 버튼 | "주문하기" |

#### 4.1.4 기능 요구사항

##### 메뉴 조회
- [ ] 페이지 로드 시 DB에서 메뉴 목록 조회
- [ ] 메뉴명, 가격, 설명, 이미지, 옵션 정보 표시
- [ ] 품절된 메뉴는 비활성화 표시

##### 옵션 선택
- [ ] 각 메뉴별 옵션 체크박스 표시
- [ ] 옵션 선택 시 추가 금액 실시간 반영
- [ ] 복수 옵션 선택 가능

##### 장바구니 담기
- [ ] "담기" 버튼 클릭 시 선택한 메뉴와 옵션을 장바구니에 추가
- [ ] 동일한 메뉴+옵션 조합은 수량 증가로 처리
- [ ] 장바구니 상태는 세션/로컬 스토리지에 저장

##### 장바구니 관리
- [ ] 담긴 상품 목록 실시간 표시
- [ ] 개별 상품 금액 및 총 금액 자동 계산
- [ ] 상품 삭제 기능 (추후 구현)
- [ ] 수량 변경 기능 (추후 구현)

##### 주문하기
- [ ] "주문하기" 버튼 클릭 시 주문 정보 DB에 저장
- [ ] 주문 완료 후 장바구니 초기화
- [ ] 주문 완료 알림 표시

#### 4.1.5 API 연동

| 기능 | Method | Endpoint | 설명 |
|------|--------|----------|------|
| 메뉴 목록 조회 | GET | /api/menus | 전체 메뉴 리스트 반환 |
| 메뉴 상세 조회 | GET | /api/menus/:id | 특정 메뉴 상세 정보 반환 |
| 주문 생성 | POST | /api/orders | 새 주문 생성 |

#### 4.1.6 데이터 구조

**메뉴 (Menu)**
```json
{
  "id": 1,
  "name": "아메리카노(ICE)",
  "price": 4000,
  "description": "깔끔하고 시원한 아이스 아메리카노",
  "image": "americano-ice.jpg",
  "options": [
    { "id": 1, "name": "샷 추가", "price": 500 },
    { "id": 2, "name": "시럽 추가", "price": 0 }
  ],
  "isAvailable": true
}
```

**장바구니 아이템 (Cart Item)**
```json
{
  "menuId": 1,
  "menuName": "아메리카노(ICE)",
  "basePrice": 4000,
  "selectedOptions": [
    { "id": 1, "name": "샷 추가", "price": 500 }
  ],
  "quantity": 1,
  "totalPrice": 4500
}
```

**주문 (Order)**
```json
{
  "id": 1,
  "items": [...],
  "totalAmount": 12500,
  "status": "pending",
  "createdAt": "2026-01-30T10:00:00Z"
}
```

#### 4.1.7 UI/UX 고려사항
- 반응형 디자인: 모바일, 태블릿, 데스크톱 지원
- 메뉴 카드 그리드는 화면 크기에 따라 열 수 조정
- 장바구니는 항상 화면 하단에 고정되어 접근성 확보
- 버튼 호버/클릭 시 시각적 피드백 제공
- 장바구니가 비어있을 때는 "주문하기" 버튼 비활성화

---

### 4.2 관리자 화면

#### 4.2.1 화면 개요
관리자가 주문 현황을 확인하고, 주문 상태를 관리하며, 메뉴별 재고를 조정할 수 있는 화면

#### 4.2.2 와이어프레임
![관리자 화면 와이어프레임](../assets/wireframe-admin.png)

#### 4.2.3 화면 구성 요소

##### A. 헤더 (Header)
| 요소 | 설명 |
|------|------|
| 로고 | "COZY" 텍스트 로고, 좌측 배치 |
| 네비게이션 | "주문하기", "관리자" 버튼, 우측 배치 |

- 현재 "관리자" 메뉴가 활성화 상태로 표시
- 주문하기 화면과 동일한 헤더 컴포넌트 사용

##### B. 관리자 대시보드 (Dashboard Summary)
| 요소 | 설명 |
|------|------|
| 위치 | 헤더 바로 아래, 상단 영역 |
| 제목 | "관리자 대시보드" |

**대시보드 통계 항목:**

| 항목 | 설명 | 예시 |
|------|------|------|
| 총 주문 | 전체 주문 수 | 1 |
| 주문 접수 | 접수 완료된 주문 수 | 1 |
| 제조 중 | 현재 제조 중인 주문 수 | 0 |
| 제조 완료 | 완료된 주문 수 | 0 |

- 각 상태별 주문 수를 실시간으로 표시
- 한 줄에 가로로 나열하여 한눈에 파악 가능

##### C. 재고 현황 (Inventory Section)
| 요소 | 설명 |
|------|------|
| 위치 | 대시보드 아래 |
| 제목 | "재고 현황" |
| 레이아웃 | 메뉴별 재고 카드를 그리드 형태로 배치 |

**재고 카드 상세 구성:**

| 구성 요소 | 설명 | 예시 |
|-----------|------|------|
| 메뉴명 | 메뉴 이름 | 아메리카노 (ICE) |
| 재고 수량 | 현재 남은 수량 | 10개 |
| 증가 버튼 | 재고 +1 | + |
| 감소 버튼 | 재고 -1 | - |

- 각 메뉴별로 독립적인 재고 관리
- +/- 버튼으로 재고 수량 조정
- 재고가 0이 되면 해당 메뉴는 품절 처리

##### D. 주문 현황 (Order List Section)
| 요소 | 설명 |
|------|------|
| 위치 | 재고 현황 아래, 화면 하단 |
| 제목 | "주문 현황" |
| 레이아웃 | 주문 목록을 리스트 형태로 표시 |

**주문 목록 상세 구성:**

| 구성 요소 | 설명 | 예시 |
|-----------|------|------|
| 주문 일시 | 주문이 생성된 날짜와 시간 | 7월 31일 13:00 |
| 주문 내용 | 메뉴명 x 수량 | 아메리카노(ICE) x 1 |
| 주문 금액 | 해당 주문의 총 금액 | 4,000원 |
| 상태 버튼 | 주문 상태 변경 버튼 | "주문 접수" |

**주문 상태 흐름:**
```
[신규 주문] → "주문 접수" 클릭 → [주문 접수] → "제조 시작" 클릭 → [제조 중] → "제조 완료" 클릭 → [제조 완료]
```

| 현재 상태 | 버튼 텍스트 | 클릭 후 상태 |
|-----------|-------------|--------------|
| pending (신규) | 주문 접수 | accepted |
| accepted (접수) | 제조 시작 | preparing |
| preparing (제조 중) | 제조 완료 | completed |
| completed (완료) | - (버튼 없음) | - |

#### 4.2.4 기능 요구사항

##### 대시보드 조회
- [ ] 페이지 로드 시 주문 상태별 통계 조회
- [ ] 실시간 또는 주기적 데이터 갱신
- [ ] 총 주문, 주문 접수, 제조 중, 제조 완료 수 표시

##### 재고 관리
- [ ] 페이지 로드 시 메뉴별 재고 현황 조회
- [ ] + 버튼 클릭 시 해당 메뉴 재고 +1
- [ ] - 버튼 클릭 시 해당 메뉴 재고 -1
- [ ] 재고 0 이하로 감소 불가
- [ ] 재고 변경 시 DB에 즉시 반영
- [ ] 재고 0인 메뉴는 주문하기 화면에서 품절 표시

##### 주문 현황 조회
- [ ] 모든 주문 목록 조회 (최신순 정렬)
- [ ] 주문 일시, 주문 내용, 금액, 상태 표시
- [ ] 실시간 또는 주기적 새 주문 갱신

##### 주문 상태 변경
- [ ] 상태 버튼 클릭 시 다음 단계로 상태 변경
- [ ] pending → accepted → preparing → completed 순서
- [ ] 상태 변경 시 DB에 즉시 반영
- [ ] 상태 변경 후 대시보드 통계 갱신

#### 4.2.5 API 연동

| 기능 | Method | Endpoint | 설명 |
|------|--------|----------|------|
| 대시보드 통계 | GET | /api/orders/stats | 주문 상태별 통계 반환 |
| 재고 목록 조회 | GET | /api/inventory | 전체 메뉴 재고 현황 반환 |
| 재고 수정 | PATCH | /api/inventory/:menuId | 특정 메뉴 재고 수량 변경 |
| 주문 목록 조회 | GET | /api/orders | 전체 주문 목록 반환 |
| 주문 상태 변경 | PATCH | /api/orders/:id/status | 특정 주문 상태 변경 |

#### 4.2.6 데이터 구조

**대시보드 통계 (Order Stats)**
```json
{
  "total": 1,
  "pending": 0,
  "accepted": 1,
  "preparing": 0,
  "completed": 0
}
```

**재고 정보 (Inventory)**
```json
{
  "menuId": 1,
  "menuName": "아메리카노 (ICE)",
  "stock": 10
}
```

**주문 상세 (Order Detail)**
```json
{
  "id": 1,
  "items": [
    {
      "menuId": 1,
      "menuName": "아메리카노(ICE)",
      "quantity": 1,
      "options": [],
      "price": 4000
    }
  ],
  "totalAmount": 4000,
  "status": "pending",
  "createdAt": "2026-07-31T13:00:00Z"
}
```

**주문 상태 Enum**
```javascript
const OrderStatus = {
  PENDING: 'pending',       // 신규 주문
  ACCEPTED: 'accepted',     // 주문 접수
  PREPARING: 'preparing',   // 제조 중
  COMPLETED: 'completed'    // 제조 완료
};
```

#### 4.2.7 UI/UX 고려사항
- 반응형 디자인: 모바일, 태블릿, 데스크톱 지원
- 대시보드 통계는 시각적으로 눈에 띄게 표시
- 재고 카드 그리드는 화면 크기에 따라 열 수 조정
- 재고 버튼(+/-)은 클릭하기 쉬운 크기로 제공
- 주문 목록은 스크롤 가능하도록 구성
- 새 주문 도착 시 시각적/청각적 알림 (추후 구현)
- 상태 버튼은 현재 상태에 따라 다른 색상으로 표시
